<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>here • here</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="here">
<meta property="og:description" content="here">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">here</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.11.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/here.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/rmarkdown.html">Using here with rmarkdown</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/r-lib/here/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="here_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="here_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="here_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>here</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-lib/here/blob/master/vignettes/here.Rmd"><code>vignettes/here.Rmd</code></a></small>
      <div class="hidden name"><code>here.Rmd</code></div>

    </div>

    
    
<p>The here package enables easy file referencing by using the top-level directory of a file project to easily build file paths. This is in contrast to using <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code>, which is fragile and dependent on the way you order your files on your computer. Read more about project-oriented workflows:</p>
<ul>
<li><p>What They Forgot to Teach You About R: <a href="https://rstats.wtf/project-oriented-workflow.html">“Project-oriented workflow”</a> chapter by Jenny Bryan and Jim Hester</p></li>
<li><p><a href="https://www.tidyverse.org/blog/2017/12/workflow-vs-script/">“Project-oriented workflow”</a> blog post by Jenny Bryan</p></li>
<li><p>R for data science: <a href="https://r4ds.had.co.nz/workflow-projects.html">“Workflow: projects”</a> chapter by Hadley Wickham</p></li>
</ul>
<div id="basic-functionality" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-functionality" class="anchor"></a>Basic functionality</h2>
<p>For demonstration, this article uses a data analysis project that lives in <code>/home/runner/work/_temp/Library/here/demo-project</code> on my machine. This is the <em>project root</em>. The path will most likely be different on your machine, the here package helps deal with this situation.</p>
<p>The project has the following structure:</p>
<pre><code>#&gt; .
#&gt; ├── analysis
#&gt; │   └── report.Rmd
#&gt; ├── data
#&gt; │   └── penguins.csv
#&gt; ├── demo-project.Rproj
#&gt; └── prepare
#&gt;     └── penguins.R</code></pre>
<p>To start working on this project in RStudio, open the <code>demo-project.Rproj</code> file. This ensures that the <a href="https://en.wikipedia.org/wiki/Working_directory">working directory</a> is set to <code>/home/runner/work/_temp/Library/here/demo-project</code>, the project root. Opening only the <code>.R</code> or the <code>.Rmd</code> file may be insufficient!</p>
<p>Other development environments may have a different notion of a project. Either way, it is important that the working directory is set to the project root or a subdirectory of that path. You can check with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="va">project_path</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "/home/runner/work/_temp/Library/here/demo-project"</span></code></pre></div>
<p>(See <code><a href="../articles/rmarkdown.html">vignette("rmarkdown")</a></code> for an example where the working directory is set to a subdirectory on start.)</p>
<p>The package displays the top-level directory of the current project when the package is loaded:<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/">here</a></span><span class="op">)</span>
<span class="co">#&gt; here() starts at /home/runner/work/_temp/Library/here/demo-project</span></code></pre></div>
<p>In our case, the <code>demo-project.Rproj</code> file decides what the project root is.</p>
<p>The top-level directory is also returned from the <code><a href="../reference/here.html">here()</a></code> function:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "/home/runner/work/_temp/Library/here/demo-project"</span></code></pre></div>
<p>One important distinction from the working directory is that this remains stable even if the working directory is changed:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="st">"analysis"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "/home/runner/work/_temp/Library/here/demo-project/analysis"</span>
<span class="fu"><a href="../reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "/home/runner/work/_temp/Library/here/demo-project"</span>
<span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="st">".."</span><span class="op">)</span></code></pre></div>
<p>(I suggest to steer clear from ever changing the working directory. This may not always be feasible, in particular if the working directory is changed by code that you do not control.)</p>
</div>
<div id="relative-paths" class="section level2">
<h2 class="hasAnchor">
<a href="#relative-paths" class="anchor"></a>Relative paths</h2>
<p>You can build a path relative to the top-level directory in order to build the full path to a file:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"penguins.csv"</span><span class="op">)</span>
<span class="co">#&gt; [1] "/home/runner/work/_temp/Library/here/demo-project/data/penguins.csv"</span>
<span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="fu"><a href="../reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"penguins.csv"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── Column specification ────────────────────────────────────────────────────────</span>
<span class="co">#&gt; cols(</span>
<span class="co">#&gt;   species = col_character(),</span>
<span class="co">#&gt;   island = col_character(),</span>
<span class="co">#&gt;   bill_length_mm = col_double(),</span>
<span class="co">#&gt;   bill_depth_mm = col_double(),</span>
<span class="co">#&gt;   flipper_length_mm = col_double(),</span>
<span class="co">#&gt;   body_mass_g = col_double(),</span>
<span class="co">#&gt;   sex = col_character(),</span>
<span class="co">#&gt;   year = col_double()</span>
<span class="co">#&gt; )</span>
<span class="co">#&gt; # A tibble: 344 x 8</span>
<span class="co">#&gt;    species island bill_length_mm bill_depth_mm flipper_length_… body_mass_g</span>
<span class="co">#&gt;    &lt;chr&gt;   &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;            &lt;dbl&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt;  1 Adelie  Torge…           39.1          18.7              181        3750</span>
<span class="co">#&gt;  2 Adelie  Torge…           39.5          17.4              186        3800</span>
<span class="co">#&gt;  3 Adelie  Torge…           40.3          18                195        3250</span>
<span class="co">#&gt;  4 Adelie  Torge…           NA            NA                 NA          NA</span>
<span class="co">#&gt;  5 Adelie  Torge…           36.7          19.3              193        3450</span>
<span class="co">#&gt;  6 Adelie  Torge…           39.3          20.6              190        3650</span>
<span class="co">#&gt;  7 Adelie  Torge…           38.9          17.8              181        3625</span>
<span class="co">#&gt;  8 Adelie  Torge…           39.2          19.6              195        4675</span>
<span class="co">#&gt;  9 Adelie  Torge…           34.1          18.1              193        3475</span>
<span class="co">#&gt; 10 Adelie  Torge…           42            20.2              190        4250</span>
<span class="co">#&gt; # … with 334 more rows, and 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;</span></code></pre></div>
<p>This works regardless of where the associated source file lives inside your project. With <code><a href="../reference/here.html">here()</a></code>, the path will always be relative to the top-level project directory.</p>
<p><code><a href="../reference/here.html">here()</a></code> works very similarly to <code><a href="https://rdrr.io/r/base/file.path.html">file.path()</a></code> or <code><a href="http://fs.r-lib.org/reference/path.html">fs::path()</a></code>, you can pass path components or entire subpaths:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/penguins.csv"</span><span class="op">)</span>
<span class="co">#&gt; [1] "/home/runner/work/_temp/Library/here/demo-project/data/penguins.csv"</span></code></pre></div>
<p>As seen above, <code><a href="../reference/here.html">here()</a></code> returns absolute paths (starting with <code><a href="https://rdrr.io/r/base/Arithmetic.html">/</a></code>, <code>&lt;drive letter&gt;:\</code> or <code>\\</code>). This makes it safe to pass these paths to other functions, even if the working directory is changed along the way.</p>
<p>As of version 1.0.0, absolute paths passed to <code><a href="../reference/here.html">here()</a></code> are returned unchanged. This means that you can safely use both absolute and project-relative paths in <code><a href="../reference/here.html">here()</a></code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span>
<span class="fu"><a href="../reference/here.html">here</a></span><span class="op">(</span><span class="va">data_path</span><span class="op">)</span>
<span class="co">#&gt; [1] "/home/runner/work/_temp/Library/here/demo-project/data"</span>
<span class="fu"><a href="../reference/here.html">here</a></span><span class="op">(</span><span class="va">data_path</span>, <span class="st">"penguins.csv"</span><span class="op">)</span>
<span class="co">#&gt; [1] "/home/runner/work/_temp/Library/here/demo-project/data/penguins.csv"</span></code></pre></div>
</div>
<div id="situation-report" class="section level2">
<h2 class="hasAnchor">
<a href="#situation-report" class="anchor"></a>Situation report</h2>
<p>The <code><a href="../reference/dr_here.html">dr_here()</a></code> function explains the reasoning behind choosing the project root:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dr_here.html">dr_here</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; here() starts at /home/runner/work/_temp/Library/here/demo-project.</span>
<span class="co">#&gt; This directory contains a file matching `[.]Rproj$` with contents matching `^Version: ` in the first line</span></code></pre></div>
<p>The <code>show_reason</code> argument can be set to <code>FALSE</code> to reduce the output to one line:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dr_here.html">dr_here</a></span><span class="op">(</span>show_reason <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="co">#&gt; here() starts at /home/runner/work/_temp/Library/here/demo-project</span></code></pre></div>
</div>
<div id="enforce-project-oriented-workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#enforce-project-oriented-workflow" class="anchor"></a>Enforce project-oriented workflow</h2>
<p>Even if you always work inside a project, your collaborators may not be aware. <code><a href="../reference/here.html">here()</a></code> falls back to the current working directory when no project can be found. This means that your code does not find the correct files even if you use <code><a href="../reference/here.html">here()</a></code> everywhere.</p>
<p>To give an early warning when this situation arises, use the following pattern in your scripts and reports:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files.html">file.exists</a></span><span class="op">(</span><span class="fu"><a href="../reference/here.html">here</a></span><span class="op">(</span><span class="st">"analysis/report.Rmd"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"Please open demo-project.Rproj to render this document."</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
</div>
<div id="define-project-root" class="section level2">
<h2 class="hasAnchor">
<a href="#define-project-root" class="anchor"></a>Define project root</h2>
<p>The <code><a href="../reference/here.html">here()</a></code> function supports a variety of common project formats, see <code><a href="../reference/here.html">?here</a></code> for details. If no project is found, the working directory is used as fallback. The heuristics can be overridden by creating a <code>.here</code> file, the <code><a href="../reference/set_here.html">set_here()</a></code> function takes care of that.</p>
<p>To start, let’s create a temporary project for demonstration:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">temp_project_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempfile</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files2.html">dir.create</a></span><span class="op">(</span><span class="va">temp_project_path</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/files2.html">dir.create</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">temp_project_path</span>, <span class="st">"scripts"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/writeLines.html">writeLines</a></span><span class="op">(</span><span class="st">'print("Hello, world!")'</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">temp_project_path</span>, <span class="st">"scripts"</span>, <span class="st">"script.R"</span><span class="op">)</span><span class="op">)</span>
<span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="http://fs.r-lib.org/reference/dir_tree.html">dir_tree</a></span><span class="op">(</span><span class="va">temp_project_path</span><span class="op">)</span>
<span class="co">#&gt; /tmp/RtmpM0osUq/file39014a322de5</span>
<span class="co">#&gt; └── scripts</span>
<span class="co">#&gt;     └── script.R</span></code></pre></div>
<p>When starting in the <code>scripts</code> directory, the here package will not find any project. Use <code><a href="../reference/set_here.html">set_here()</a></code> to define the project root:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/set_here.html">set_here</a></span><span class="op">(</span><span class="va">temp_project_path</span><span class="op">)</span>
<span class="co">#&gt; Created file .here in /tmp/RtmpM0osUq/file39014a322de5 . Please start a new R session in the new project directory.</span>
<span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="http://fs.r-lib.org/reference/dir_tree.html">dir_tree</a></span><span class="op">(</span><span class="va">temp_project_path</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; /tmp/RtmpM0osUq/file39014a322de5</span>
<span class="co">#&gt; ├── .here</span>
<span class="co">#&gt; └── scripts</span>
<span class="co">#&gt;     └── script.R</span></code></pre></div>
<p>Note the message about restarting the R session. This is because the here package never changes its notion of a project root once loaded. This is by design. The next sections show possible remedies.</p>
</div>
<div id="change-project-root" class="section level2">
<h2 class="hasAnchor">
<a href="#change-project-root" class="anchor"></a>Change project root</h2>
<p>Once the here package is loaded, subsequential attempts to load do not change here’s notion of the project root. No message is printed, and the <code><a href="../reference/here.html">here()</a></code> output is unchanged:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/">here</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="va">temp_project_path</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/">here</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="va">project_path</span><span class="op">)</span>
<span class="fu"><a href="../reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "/home/runner/work/_temp/Library/here/demo-project"</span></code></pre></div>
<p>This is by design:</p>
<ul>
<li>it keeps the interface as simple as possible</li>
<li>it gently nudges you to <a href="https://rstats.wtf/save-source.html">start a fresh R session</a> when focusing on another project</li>
</ul>
<p>Nevertheless, there may be cases when it is desirable to reset here’s notion of the project root. This can be achieved with unloading and reloading the package:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html">unloadNamespace</a></span><span class="op">(</span><span class="st">"here"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="va">temp_project_path</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/">here</a></span><span class="op">)</span>
<span class="co">#&gt; here() starts at /tmp/RtmpM0osUq/file39014a322de5</span>
<span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="va">project_path</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "/home/runner/work/_temp/Library/here/demo-project"</span>
<span class="fu"><a href="../reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "/tmp/RtmpM0osUq/file39014a322de5"</span></code></pre></div>
<p>To reiterate: a fresh session is almost always the better, cleaner, safer, and more robust solution. Use this approach only as a last resort.</p>
</div>
<div id="conflicts-with-other-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#conflicts-with-other-packages" class="anchor"></a>Conflicts with other packages</h2>
<p>Other packages also export a <code><a href="../reference/here.html">here()</a></code> function. Loading these packages after loading here masks our <code><a href="../reference/here.html">here()</a></code> function:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://had.co.nz/plyr">plyr</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'plyr'</span>
<span class="co">#&gt; The following object is masked from 'package:here':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     here</span>
<span class="fu"><a href="../reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Error in here(): argument "f" is missing, with no default</span></code></pre></div>
<p>One way to work around this problem is to use <code><a href="../reference/here.html">here::here()</a></code>:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="../reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "/tmp/RtmpM0osUq/file39014a322de5"</span></code></pre></div>
<p>The conflicted package offers an alternative: it detects that <code><a href="../reference/here.html">here()</a></code> is exported from more than one package and allows you to use neither until you indicate a preference.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-lib/conflicted">conflicted</a></span><span class="op">)</span>
<span class="fu"><a href="../reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Error: [conflicted] `here` found in 2 packages.</span>
<span class="co">#&gt; Either pick the one you want with `::` </span>
<span class="co">#&gt; * plyr::here</span>
<span class="co">#&gt; * here::here</span>
<span class="co">#&gt; Or declare a preference with `conflict_prefer()`</span>
<span class="co">#&gt; * conflict_prefer("here", "plyr")</span>
<span class="co">#&gt; * conflict_prefer("here", "here")</span>

<span class="fu">conflicted</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/conflicted/man/conflict_prefer.html">conflict_prefer</a></span><span class="op">(</span><span class="st">"here"</span>, <span class="st">"here"</span><span class="op">)</span>
<span class="co">#&gt; [conflicted] Will prefer here::here over any other package</span>
<span class="fu"><a href="../reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "/tmp/RtmpM0osUq/file39014a322de5"</span></code></pre></div>
</div>
<div id="under-the-hood-rprojroot" class="section level2">
<h2 class="hasAnchor">
<a href="#under-the-hood-rprojroot" class="anchor"></a>Under the hood: rprojroot</h2>
<p>The here package has a very simple and restricted interface, by design. The underlying logic is provided by the much more powerful rprojroot package. If the default behavior of here does not suit your workflow for one reason or another, the rprojroot package may be a better alternative.</p>
<p>The following example shows how to find an RStudio project starting from a directory:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rprojroot.r-lib.org/">rprojroot</a></span><span class="op">)</span>
<span class="fu"><a href="https://rprojroot.r-lib.org//reference/find_root.html">find_root</a></span><span class="op">(</span><span class="va">is_rstudio_project</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">project_path</span>, <span class="st">"analysis"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "/home/runner/work/_temp/Library/here/demo-project"</span></code></pre></div>
<p>Arbitrary criteria can be defined. See <code>vignette("rprojroot", package = "rprojroot")</code> for an introduction.</p>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>Technically, <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> loads and attaches a package. The message is printed only when the package is attached; if your code only uses <code><a href="../reference/here.html">here::here()</a></code>, no message is printed.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://krlmlr.info">Kirill Müller</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
